# 設計メモ

## データファイルの設計

各データタイプごとに、データファイルへのパスを書いた pathlist ファイルを使う。
データファイルへのパスはルートディレクトリからの相対パス。

同じサンプルのデータファイルは、拡張子を除いて同じ名前を付ける必要がある。

## 推論の設計

損失を計算するための経路と、生成するための経路を用意する。
損失を計算するためのネットワークが`Model`で、生成するためのネットワークが`Generator`。

## データセットの設計

データセットは 4 種類(train,test,eval,valid)ある。

train データセットは学習用で、実際に `Predictor` の重みを更新する。

test は train と同じドメインを想定し、損失のグラフからモデルが過適合していないか確認するために用いる。
train として与えられたデータの一部を test として用い、残りを真の train として用いる。

eval は test と同じデータを評価するための処理をしたもの。
データ増強をなくしたり、データ切り出し位置を固定したりする。

valid は評価のみを行うもので、train とは違うところから与えるものを想定している。
valid を用いれば、学習データが変わっても同じデータで評価できる。

## ネットワークの設計

`Tensor` や `list[Tensor]` は型として被るので、順序のみの引数で与えるのは危ない。
なのでキーワード引数としてのみでやり取りすべき。
